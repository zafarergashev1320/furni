<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contact</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/bootstrap.min.css') }}">
</head>
<body>

<div class="container mt-5">
    <h1>Contact Form</h1>
    <form id="contactForm">
        <input type="text" id="fname" placeholder="First Name" class="form-control mb-2">
        <input type="text" id="lname" placeholder="Last Name" class="form-control mb-2">
        <input type="email" id="email" placeholder="Email" class="form-control mb-2">
        <textarea id="message" placeholder="Message" class="form-control mb-2"></textarea>
        <button type="submit" class="btn btn-primary">Send Message</button>
    </form>
</div>

<script>
document.getElementById("contactForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = {
        fname: document.getElementById("fname").value,
        lname: document.getElementById("lname").value,
        email: document.getElementById("email").value,
        message: document.getElementById("message").value
    };

    const response = await fetch("/send_message", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    });

    const result = await response.json();
    if(result.status === "ok") alert("Xabar yuborildi!");
    else alert("Xato yuz berdi!");
});
</script>

</body>
</html>
